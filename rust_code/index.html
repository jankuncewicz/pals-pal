<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>hello-wasm example</title>
		<style>
			#whole{
				max-width: 500px;
				margin: auto;
			}
			.text{
				width: 250px;
				padding: 5px;
			}
		</style>
		<script type="module">
			import init, {main} from "./pkg/pals_pal.js";
			init();
			function get(s){
				return document.getElementById(s).value;
			}
			function run(){
				let tau = parseFloat(get("tau"))
				let temp = parseFloat(get("temp"))
				let delta = parseFloat(get("delta"))
				let r = main(tau, delta, temp);
				document.getElementById("ans").value = r;
			}
			window.run = run;
		</script>
	</head>
	<body>
		<div id="whole">
		<form id="form" onsubmit="run();" autocomplete="off">
		<div class="text">
			<label for="tau">Tau (ns)</label>
			<br>
			<input type="text" id="tau" required>
		</div>
		<div class="text">
			<label for="temp">Temperature (K)</label>
			<br>
			<input type="text" id="temp" value="293" required>
		</div>
		<div class="text">
			<label for="delta">Delta (nm)</label>
			<br>
			<input type="text" id="delta" value="0.165" required>
		</div>
		<div class="text">
			<label for="ans">R (nm)</label>
			<br>
			<input id="ans" type="text" readonly>
		</div>
		<div class="text">
			<input id="submit" type="submit" value="Calculate">
		</div>
		</form>
		</div>
		<script>
			document.getElementById("form").addEventListener("submit", e => e.preventDefault())
		</script>
	</body>
</html>